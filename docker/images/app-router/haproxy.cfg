
global

	 daemon 

	 log 127.0.0.1 local0

	 log 127.0.0.1 local1 notice

	 maxconn 4096

	 user haproxy

	 group haproxy 


defaults 

	 mode http

	 timeout connect 15s

	 timeout client 30s

	 timeout server 30s

	 timeout http-request 15s

	 timeout http-keep-alive 15s

	 log global

	 stats enable

	 stats auth stats:BG&Lzr^S+<znzK3X

	 stats uri /stats


frontend http-in 

	 bind *:80 

	 bind *:443 ssl crt /tater.io.pem

	 mode http

	 user_backend eha if host_eha

	 user_backend dtra if host_dtra

	 user_backend clarkson if host_clarkson

	 user_backend www if host_www

	 acl host_eha hdr(host) -i eha.tater.io

	 acl host_dtra hdr(host) -i dtra.tater.io

	 acl host_clarkson hdr(host) -i clarkson.tater.io

	 acl host_www hdr(host) -i www.tater.io

	 default_backend www  


backend dtra

	 server po.tater.io 10.0.0.116:8001   check

	 server tots01.tater.io 10.0.0.240:8001   check


backend eha

	 server po.tater.io 10.0.0.116:8002   check

	 server tots01.tater.io 10.0.0.240:8002   check


backend clarkson

	 server po.tater.io 10.0.0.116:8003   check

	 server tots01.tater.io 10.0.0.240:8003   check


backend www

	 server po.tater.io 10.0.0.116:8004   check

	 server tots01.tater.io 10.0.0.240:8004   check


